(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__3gpUC"}},12:function(e,t,a){e.exports={Button:"Button_Button__2bJOO",btnWrapper:"Button_btnWrapper__kau6V",Error:"Button_Error__UvwG7"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__zZbxr",Modal:"Modal_Modal__MVQov"}},14:function(e,t,a){e.exports={App:"App_App__2pjYg"}},26:function(e,t,a){e.exports={Loader:"Loader_Loader__2e_hV"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2lPqI"}},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3vvhE",SearchForm:"Searchbar_SearchForm__2tIEc",SearchForm__button:"Searchbar_SearchForm__button__33pC0",SearchForm__input:"Searchbar_SearchForm__input__2fNm8"}},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),o=a.n(c),i=a(15),u=a(4),s=a(25),l=a.n(s),b=a(26),m=a.n(b),j=(a(54),a(1)),h=function(){return Object(j.jsx)(l.a,{className:m.a.Loader,type:"Audio",color:"#D9DB57",height:100,width:100,timeout:1e3})},_=a(5),d=a.n(_),f=a(29);var p=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(u.a)(a,2),c=r[0],o=r[1],i=function(){return o("")};return Object(j.jsx)("header",{className:d.a.Searchbar,children:Object(j.jsxs)("form",{className:d.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),i()},children:[Object(j.jsx)("button",{type:"submit",className:d.a.SearchForm__button,children:Object(j.jsx)("span",{className:d.a.SearchForm__button_label,children:Object(j.jsx)(f.a,{})})}),Object(j.jsx)("input",{className:d.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.target.value)}})]})})},O=a(11),g=a.n(O),v=function(e){var t=e.alt,a=e.previewURL,n=e.largeImageURL,r=e.onImageClick;return Object(j.jsx)("li",{className:g.a.ImageGalleryItem,onClick:function(){return r(n,t)},children:Object(j.jsx)("img",{src:a,alt:t,className:g.a.ImageGalleryItem_image})})},x=a(27),S=a.n(x),y=function(e){var t=e.images,a=e.onImageClick;return Object(j.jsx)("ul",{className:S.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.tags,r=e.webformatURL,c=e.largeImageURL;return Object(j.jsx)(v,{alt:n,previewURL:r,largeImageURL:c,onImageClick:a},t)}))})},I=a(28),w=a.n(I),k=function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,r=void 0===n?1:n,c=e.pageSize,o=void 0===c?12:c;return w.a.get("https://pixabay.com/api/?q=".concat(a,"&page=").concat(r,"&key=20663729-402ac0755ef01966534e76e9d&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data.hits})).catch((function(e){return console.log("error: ",e)}))},C=a(12),N=a.n(C),E=function(e){var t=e.onClick;return Object(j.jsx)("div",{className:N.a.btnWrapper,children:Object(j.jsx)("button",{type:"button",className:N.a.Button,onClick:t,children:"Load More"})})},L=a(13),F=a.n(L);var G=function(e){var t=e.onClose,a=e.children;return Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(j.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:F.a.Modal,children:a})})},B=a(14),M=a.n(B);var U=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(u.a)(c,2),s=o[0],l=o[1],b=Object(n.useState)(""),m=Object(u.a)(b,2),_=m[0],d=m[1],f=Object(n.useState)(!1),O=Object(u.a)(f,2),g=O[0],v=O[1],x=Object(n.useState)(null),S=Object(u.a)(x,2),I=S[0],w=S[1],C=Object(n.useState)(!1),N=Object(u.a)(C,2),L=N[0],F=N[1],B=Object(n.useState)(""),U=Object(u.a)(B,2),R=U[0],P=U[1],A=Object(n.useState)(""),q=Object(u.a)(A,2),z=q[0],D=q[1],J=Object(n.useCallback)((function(){v(!0),k({searchQuery:_,currentPage:s}).then((function(e){if(0===e.length)return Promise.reject(new Error("Error"));r((function(t){return[].concat(Object(i.a)(t||[]),Object(i.a)(e))}))})).catch((function(e){return w(e)})).finally((function(){return v(!1)}))}),[_,s]),Q=function(){F(!L)};return Object(n.useEffect)((function(){""!==_&&J()}),[_,s,J]),Object(n.useEffect)((function(){s>=1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[a,s]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{onSubmit:function(e){d(e),l(1),r([]),w(null)}}),I&&Object(j.jsx)("h3",{className:M.a.Error,children:"Oops! That image can\u2019t be found. Please, try anothe request!"}),Object(j.jsx)(y,{images:a,onImageClick:function(e,t){P(e),D(t),Q()}}),g&&Object(j.jsx)(h,{className:M.a.Loader}),(a.length&&!g)>0&&Object(j.jsx)(E,{onClick:function(){l((function(e){return e+1}))}}),L&&Object(j.jsx)(G,{onClose:Q,children:Object(j.jsx)("img",{src:R,alt:z})})]})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(U,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.060492df.chunk.js.map